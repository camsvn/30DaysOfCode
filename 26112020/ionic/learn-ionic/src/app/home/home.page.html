<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-title style="color: white;">SQLite CRUD</ion-title>
        <!-- <ion-col size="4"> -->
        <ion-button color="danger" (click)="onLogout()" style="padding-right: 10px;">
          <ion-icon name="log-out-outline" style="padding-right: 5px;"></ion-icon>
          Logout
        </ion-button>
      <!-- </ion-col> -->
    </ion-row>
  </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- <ion-grid>
    <ion-row class="ion-justify-content-center">
      {{messages}}
    </ion-row>
  </ion-grid> -->
  <h1>Hi, {{user.name}}</h1>

  <mat-accordion>
<!-- Camera Module -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Profile Picture
        </mat-panel-title>
        <mat-panel-description>
          Camera Module CRUD ops
        </mat-panel-description>
      </mat-expansion-panel-header>
      <!--  defer initialization until the panel is open -->
      <!-- <ng-template matExpansionPanelContent> -->
        <ion-row class="ion-justify-content-center">
          <img id="profile-pic" src="http://placehold.it/350x220"/>
        </ion-row>
        <ion-row>
          <ion-button (click)="takePicture()">
            <ion-icon name="checkmark-outline" class="icon-margin"></ion-icon>
            Upload Image
          </ion-button>        
          <ion-button color="danger" (click)="deletePicture()">
            <ion-icon name="trash-outline" class="icon-margin"></ion-icon>
            Delete Image
          </ion-button>
      </ion-row>
      <!-- </ng-template> -->
    </mat-expansion-panel>

<!-- GeoLocation -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          GeoLocation
        </mat-panel-title>
        <ng-template matExpansionPanelContent>          
          <ion-row *ngIf="geoLocationCoords.latitude === null ? false : true">
            Lat: {{geoLocationCoords.latitude}} | Long: {{geoLocationCoords.longitude}}
          </ion-row>
          <ion-row>
            <ion-button [disabled]="getLocationDisabled" (click)="getCurrentPosition()">
              <ion-icon name="locate-outline" class="icon-margin"></ion-icon>
              Where am I?
            </ion-button>
            <ion-button (click)="uploadLocation()">
              <ion-icon name="save-outline" class="icon-margin"></ion-icon>
              Update
            </ion-button>
          </ion-row>
        </ng-template>
      </mat-expansion-panel-header>      
    </mat-expansion-panel>

<!-- SignaturePad -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Signature Pad
        </mat-panel-title>
      </mat-expansion-panel-header>
      <!-- <ng-template matExpansionPanelContent> -->
        <canvas class="signature-pad-canvas" #canvas height="200" style="touch-action: none;"></canvas>
        <ion-button [disabled]="isCanvasBlank()" (click)="uploadSignature()">
          <ion-icon name="checkmark-outline" class="icon-margin"></ion-icon>
          Submit
        </ion-button>
        <ion-button (click)="clearCanvas()">
          <ion-icon name="refresh-outline" class="icon-margin"></ion-icon>
          Clear
        </ion-button>
        <ion-button 
          (click)="deleteSignature()"
          color="danger"
        >
          <ion-icon name="trash-outline" class="icon-margin"></ion-icon>
          Delete
        </ion-button>
      <!-- </ng-template> -->
    </mat-expansion-panel>
  </mat-accordion>

</ion-content>
